<div class="card-container">
  <h2>List of Surveys</h2>
  <div class="card-grid">
    @for (survey of surveys; track survey.title) {
      <div class="card">
        <h3>{{ survey.title }}</h3>
        <p><strong>Description:</strong> {{ survey.description }}</p>
        <p><strong>Owner:</strong> {{ survey.owner.name }}</p>
        <app-button
          label="Ajouter"
          class="primary"
          (onClick)="addSurvey()">
        </app-button>

        <app-button
          label="Supprimer"
          class="secondary"
          [disabled]="isDeleting"
          (onClick)="deleteSurvey()">
        </app-button>

      </div>
    }
  </div>
  <div class="pagination">
    <button [disabled]="currentPage === 0" (click)="changePage(currentPage - 1)">
      Précédent
    </button>
    @for (page of pages; track page) {
      <button
        [class.active]="page === currentPage"
        (click)="changePage(page)">
        {{page + 1}}
      </button>
    }
    <button [disabled]="currentPage === totalPages - 1" (click)="changePage(currentPage + 1)">
      Suivant
    </button>
  </div>
  <div class="pagination-info">
    Page {{currentPage + 1}} sur {{totalPages}}
    (Total: {{totalElements}} éléments)
  </div>
</div>
